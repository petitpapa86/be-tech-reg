<!-- COMPLETENESS Error Card -->
<div class="rounded-lg p-6 border-2"
   th:with="severity=${cplCnt > 100 ? 'critical' : cplCnt > 50 ? 'high' : cplCnt > 10 ? 'medium' : 'low'}"
   th:classappend="${severity == 'critical' ? 'bg-red-50 border-red-200' :
           severity == 'high' ? 'bg-orange-50 border-orange-200' :
           severity == 'medium' ? 'bg-yellow-50 border-yellow-200' :
           'bg-green-50 border-green-200'}">
  <div class="flex justify-between items-start mb-4">
    <div>
      <p class="text-sm font-semibold"
         th:classappend="${severity == 'critical' ? 'text-red-800' :
                 severity == 'high' ? 'text-orange-800' :
                 severity == 'medium' ? 'text-yellow-800' :
                 'text-green-800'}">COMPLETENESS</p>
      <p class="text-xs mt-1"
         th:classappend="${severity == 'critical' ? 'text-red-600' :
                 severity == 'high' ? 'text-orange-600' :
                 severity == 'medium' ? 'text-yellow-600' :
                 'text-green-600'}"
         th:text="${severity == 'critical' ? 'Situazione critica!' :
             severity == 'high' ? 'Richiede attenzione' :
             severity == 'medium' ? 'Errori moderati' :
             'Errori minimi'}">Dimensione pi√π problematica</p>
    </div>
    <span class="text-3xl font-bold"
        th:classappend="${severity == 'critical' ? 'text-red-600' :
                severity == 'high' ? 'text-orange-600' :
                severity == 'medium' ? 'text-yellow-600' :
                'text-green-600'}"
        th:text="${cplCnt}">0</span>
  </div>
  <div class="w-full rounded-full h-3"
     th:classappend="${severity == 'critical' ? 'bg-red-200' :
             severity == 'high' ? 'bg-orange-200' :
             severity == 'medium' ? 'bg-yellow-200' :
             'bg-green-200'}">
    <div class="h-3 rounded-full"
       th:classappend="${severity == 'critical' ? 'bg-red-600' :
               severity == 'high' ? 'bg-orange-600' :
               severity == 'medium' ? 'bg-yellow-600' :
               'bg-green-600'}"
       th:style="${'width: ' + (maxCnt > 0 ? ((cplCnt * 100.0) / maxCnt) : 0) + '%'}" style="width: 100%"></div>
  </div>
    <p class="text-xs mt-2"
     th:classappend="${severity == 'critical' ? 'text-red-700' :
             severity == 'high' ? 'text-orange-700' :
             severity == 'medium' ? 'text-yellow-700' :
             'text-green-700'}"><span th:text="${qualityResults.totalErrors > 0 ? #numbers.formatDecimal((cplCnt * 100.0) / qualityResults.totalErrors, 1, 1) : '0.0'}">62.5</span>% degli errori totali</p>
    </div>


<!-- ACCURACY Error Card -->
<div class="rounded-lg p-6 border-2"
   th:with="severity=${accCnt > 100 ? 'critical' : accCnt > 50 ? 'high' : accCnt > 10 ? 'medium' : 'low'}"
   th:classappend="${severity == 'critical' ? 'bg-red-50 border-red-200' :
           severity == 'high' ? 'bg-orange-50 border-orange-200' :
           severity == 'medium' ? 'bg-yellow-50 border-yellow-200' :
           'bg-green-50 border-green-200'}">
  <div class="flex justify-between items-start mb-4">
    <div>
      <p class="text-sm font-semibold"
         th:classappend="${severity == 'critical' ? 'text-red-800' :
                 severity == 'high' ? 'text-orange-800' :
                 severity == 'medium' ? 'text-yellow-800' :
                 'text-green-800'}">ACCURACY</p>
      <p class="text-xs mt-1"
         th:classappend="${severity == 'critical' ? 'text-red-600' :
                 severity == 'high' ? 'text-orange-600' :
                 severity == 'medium' ? 'text-yellow-600' :
                 'text-green-600'}"
         th:text="${severity == 'critical' ? 'Situazione critica!' :
             severity == 'high' ? 'Richiede attenzione' :
             severity == 'medium' ? 'Errori moderati' :
             'Errori minimi'}">Seconda dimensione critica</p>
    </div>
    <span class="text-3xl font-bold"
        th:classappend="${severity == 'critical' ? 'text-red-600' :
                severity == 'high' ? 'text-orange-600' :
                severity == 'medium' ? 'text-yellow-600' :
                'text-green-600'}"
        th:text="${accCnt}">0</span>
  </div>
  <div class="w-full rounded-full h-3"
     th:classappend="${severity == 'critical' ? 'bg-red-200' :
             severity == 'high' ? 'bg-orange-200' :
             severity == 'medium' ? 'bg-yellow-200' :
             'bg-green-200'}">
    <div class="h-3 rounded-full"
       th:classappend="${severity == 'critical' ? 'bg-red-600' :
               severity == 'high' ? 'bg-orange-600' :
               severity == 'medium' ? 'bg-yellow-600' :
               'bg-green-600'}"
       th:style="${'width: ' + (maxCnt > 0 ? ((accCnt * 100.0) / maxCnt) : 0) + '%'}" style="width: 100%"></div>
  </div>
    <p class="text-xs mt-2"
     th:classappend="${severity == 'critical' ? 'text-red-700' :
             severity == 'high' ? 'text-orange-700' :
             severity == 'medium' ? 'text-yellow-700' :
             'text-green-700'}"><span th:text="${qualityResults.totalErrors > 0 ? #numbers.formatDecimal((accCnt * 100.0) / qualityResults.totalErrors, 1, 1) : '0.0'}">62.5</span>% degli errori totali</p>
    </div>


<!-- CONSISTENCY Error Card -->
<div class="rounded-lg p-6 border-2"
   th:with="severity=${conCnt > 100 ? 'critical' : conCnt > 50 ? 'high' : conCnt > 10 ? 'medium' : 'low'}"
   th:classappend="${severity == 'critical' ? 'bg-red-50 border-red-200' :
           severity == 'high' ? 'bg-orange-50 border-orange-200' :
           severity == 'medium' ? 'bg-yellow-50 border-yellow-200' :
           'bg-green-50 border-green-200'}">
  <div class="flex justify-between items-start mb-4">
    <div>
      <p class="text-sm font-semibold"
         th:classappend="${severity == 'critical' ? 'text-red-800' :
                 severity == 'high' ? 'text-orange-800' :
                 severity == 'medium' ? 'text-yellow-800' :
                 'text-green-800'}">CONSISTENCY</p>
      <p class="text-xs mt-1"
         th:classappend="${severity == 'critical' ? 'text-red-600' :
                 severity == 'high' ? 'text-orange-600' :
                 severity == 'medium' ? 'text-yellow-600' :
                 'text-green-600'}"
         th:text="${severity == 'critical' ? 'Situazione critica!' :
             severity == 'high' ? 'Richiede attenzione' :
             severity == 'medium' ? 'Errori moderati' :
             'Errori minimi'}">Terza dimensione critica</p>
    </div>
    <span class="text-3xl font-bold"
        th:classappend="${severity == 'critical' ? 'text-red-600' :
                severity == 'high' ? 'text-orange-600' :
                severity == 'medium' ? 'text-yellow-600' :
                'text-green-600'}"
        th:text="${conCnt}">0</span>
  </div>
  <div class="w-full rounded-full h-3"
     th:classappend="${severity == 'critical' ? 'bg-red-200' :
             severity == 'high' ? 'bg-orange-200' :
             severity == 'medium' ? 'bg-yellow-200' :
             'bg-green-200'}">
    <div class="h-3 rounded-full"
       th:classappend="${severity == 'critical' ? 'bg-red-600' :
               severity == 'high' ? 'bg-orange-600' :
               severity == 'medium' ? 'bg-yellow-600' :
               'bg-green-600'}"
       th:style="${'width: ' + (maxCnt > 0 ? ((conCnt * 100.0) / maxCnt) : 0) + '%'}" style="width: 100%"></div>
  </div>
    <p class="text-xs mt-2"
     th:classappend="${severity == 'critical' ? 'text-red-700' :
             severity == 'high' ? 'text-orange-700' :
             severity == 'medium' ? 'text-yellow-700' :
             'text-green-700'}"><span th:text="${qualityResults.totalErrors > 0 ? #numbers.formatDecimal((conCnt * 100.0) / qualityResults.totalErrors, 1, 1) : '0.0'}">62.5</span>% degli errori totali</p>
    </div>
